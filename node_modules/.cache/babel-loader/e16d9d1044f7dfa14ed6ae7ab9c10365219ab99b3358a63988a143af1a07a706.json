{"ast":null,"code":"import{useCallback,useEffect,useState}from\"react\";import{getStoreData}from\"../../DB/Actions/retriveProducts\";import{Stores}from\"../../DB/db\";import SearchIcon from\"../../Asstets/Icons/SearchIcon\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AllProductsList=()=>{const[allProducts,setAllProducts]=useState([]);const[search,setSearch]=useState('');// e: React.ChangeEvent<HTMLInputElement>\nconst handleInputChange=useCallback(e=>{const filterRegex=new RegExp(e.target.value,'i');const resultOptions=allProducts.filter(option=>option.name.match(filterRegex));setAllProducts(resultOptions);setSearch(e.target.value);},[allProducts]);useEffect(()=>{const fetchData=async()=>{try{const products=await getStoreData(Stores.Products);setAllProducts(products);}catch(error){console.error(\"Error fetching data:\",error);}};fetchData();},[search==='']);return/*#__PURE__*/_jsxs(\"div\",{className:\" bg-white p-3 h-[90vh]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between py-4\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"All Products\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex items-center w-72\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search\",className:\"w-72 px-4 py-1 border border-light-gray rounded-md outline-none\",value:search,onChange:handleInputChange}),\" \",/*#__PURE__*/_jsx(\"div\",{className:\"cursor-pointer absolute top-1/2 right-0 transform -translate-x-1/2 -translate-y-1/2\",children:/*#__PURE__*/_jsx(SearchIcon,{})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-5\",children:allProducts===null||allProducts===void 0?void 0:allProducts.map((item,index)=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"w-72 bg-white h-80 rounded p-2 shadow-md flex flex-col justify-between border border-light-gray \",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:\"p\",className:\"w-[100%] object-fill h-[150px] rounded\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\" text-left p-2\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\" font-monospace\",children:item.name}),/*#__PURE__*/_jsx(\"p\",{className:\"font-monospace text-sm font-light\",children:item.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-monospace text-sm font-light\",children:[\"Price: $\",item.price]})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\" bg-light-gray w-full rounded hover:bg-gray-400 \",children:\"Add to Cart\"})})]});})})]});};export default AllProductsList;","map":{"version":3,"names":["useCallback","useEffect","useState","getStoreData","Stores","SearchIcon","jsx","_jsx","jsxs","_jsxs","AllProductsList","allProducts","setAllProducts","search","setSearch","handleInputChange","e","filterRegex","RegExp","target","value","resultOptions","filter","option","name","match","fetchData","products","Products","error","console","className","children","type","placeholder","onChange","map","item","index","src","image","alt","description","price"],"sources":["/home/jouleslabs/Downloads/Interview-task/react_ts_modal/src/Feature/AllProducts/AllProductsList.tsx"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\r\nimport { getStoreData } from \"../../DB/Actions/retriveProducts\";\r\nimport { Product, Stores } from \"../../DB/db\";\r\nimport SearchIcon from \"../../Asstets/Icons/SearchIcon\";\r\n\r\nconst AllProductsList = () => {\r\n  const [allProducts, setAllProducts] = useState<Product[]>([]);\r\n  const [search, setSearch] = useState('')\r\n\r\n\r\n\r\n\r\n\r\n// e: React.ChangeEvent<HTMLInputElement>\r\nconst handleInputChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n  const filterRegex = new RegExp(e.target.value, 'i');\r\n  const resultOptions = allProducts.filter((option) =>\r\n    option.name.match(filterRegex),\r\n  );\r\n  setAllProducts(resultOptions);\r\n  setSearch(e.target.value)\r\n\r\n},[allProducts])\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const products = await getStoreData<Product>(Stores.Products);\r\n        setAllProducts(products);\r\n      } catch (error) {\r\n        console.error(\"Error fetching data:\", error);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [search === '']);\r\n\r\n  return (\r\n    <div className=\" bg-white p-3 h-[90vh]\">\r\n       <div className=\"flex items-center justify-between py-4\">\r\n        <h4>All Products</h4>\r\n        <div className=\"relative flex items-center w-72\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search\"\r\n              className=\"w-72 px-4 py-1 border border-light-gray rounded-md outline-none\"\r\n              value={search}\r\n              onChange={handleInputChange}\r\n            />\r\n            {/* <MagnifyingGlassIcon className=\"absolute top-3 right-3 h-5 w-5 text-gray-400\" />\r\n             */}{\" \"}\r\n            <div className=\"cursor-pointer absolute top-1/2 right-0 transform -translate-x-1/2 -translate-y-1/2\">\r\n              <SearchIcon />\r\n            </div>\r\n          </div>\r\n        </div> \r\n      <div className=\"flex items-center gap-5\">\r\n      {allProducts?.map((item, index) => {\r\n        return (\r\n          <div className=\"w-72 bg-white h-80 rounded p-2 shadow-md flex flex-col justify-between border border-light-gray \">\r\n            <div>\r\n              <div>\r\n                <img\r\n                  src={item.image}\r\n                  alt=\"p\"\r\n                  className=\"w-[100%] object-fill h-[150px] rounded\"\r\n                />\r\n              </div>\r\n              <div className=\" text-left p-2\">\r\n                <h5 className=\" font-monospace\">{item.name}</h5>\r\n                <p className=\"font-monospace text-sm font-light\">\r\n                  {item.description}\r\n                </p>\r\n                <p className=\"font-monospace text-sm font-light\">\r\n                  Price: ${item.price}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <button className=\" bg-light-gray w-full rounded hover:bg-gray-400 \">\r\n                Add to Cart\r\n              </button>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AllProductsList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}