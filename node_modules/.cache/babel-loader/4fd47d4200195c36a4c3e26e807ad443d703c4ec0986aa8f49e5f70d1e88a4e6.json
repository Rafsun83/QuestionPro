{"ast":null,"code":"export const deleteProduct = function (storeName, key) {\n  let version = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  return new Promise(resolve => {\n    // again open the connection\n    const request = indexedDB.open('myDB', version);\n    request.onsuccess = () => {\n      console.log('request.onsuccess - deleteData', key);\n      const db = request.result;\n      const tx = db.transaction(storeName, 'readwrite');\n      const store = tx.objectStore(storeName);\n      const res = store.delete(key);\n\n      // add listeners that will resolve the Promise\n      res.onsuccess = () => {\n        resolve(true);\n      };\n      res.onerror = () => {\n        resolve(false);\n      };\n    };\n  });\n};","map":{"version":3,"names":["deleteProduct","storeName","key","version","Promise","resolve","request","indexedDB","open","onsuccess","console","log","db","result","tx","transaction","store","objectStore","res","delete","onerror"],"sources":["/home/jouleslabs/Downloads/Interview-task/react_ts_modal/src/DB/Actions/deleteProduct.ts"],"sourcesContent":["\n\nexport const deleteProduct = (storeName: string, key: string, version = 1): Promise<boolean> => {\n    return new Promise((resolve) => {\n      // again open the connection\n      const request = indexedDB.open('myDB', version);\n  \n      request.onsuccess = () => {\n        console.log('request.onsuccess - deleteData', key);\n       const db = request.result;\n        const tx = db.transaction(storeName, 'readwrite');\n        const store = tx.objectStore(storeName);\n        const res = store.delete(key);\n  \n        // add listeners that will resolve the Promise\n        res.onsuccess = () => {\n          resolve(true);\n        };\n        res.onerror = () => {\n          resolve(false);\n        }\n      };\n    });\n  };"],"mappings":"AAEA,OAAO,MAAMA,aAAa,GAAG,UAACC,SAAiB,EAAEC,GAAW,EAAoC;EAAA,IAAlCC,OAAO,uEAAG,CAAC;EACrE,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAK;IAC9B;IACA,MAAMC,OAAO,GAAGC,SAAS,CAACC,IAAI,CAAC,MAAM,EAAEL,OAAO,CAAC;IAE/CG,OAAO,CAACG,SAAS,GAAG,MAAM;MACxBC,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAET,GAAG,CAAC;MACnD,MAAMU,EAAE,GAAGN,OAAO,CAACO,MAAM;MACxB,MAAMC,EAAE,GAAGF,EAAE,CAACG,WAAW,CAACd,SAAS,EAAE,WAAW,CAAC;MACjD,MAAMe,KAAK,GAAGF,EAAE,CAACG,WAAW,CAAChB,SAAS,CAAC;MACvC,MAAMiB,GAAG,GAAGF,KAAK,CAACG,MAAM,CAACjB,GAAG,CAAC;;MAE7B;MACAgB,GAAG,CAACT,SAAS,GAAG,MAAM;QACpBJ,OAAO,CAAC,IAAI,CAAC;MACf,CAAC;MACDa,GAAG,CAACE,OAAO,GAAG,MAAM;QAClBf,OAAO,CAAC,KAAK,CAAC;MAChB,CAAC;IACH,CAAC;EACH,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}