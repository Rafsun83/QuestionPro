{"ast":null,"code":"export const addData = (storeName, data, version = 1) => {\n  return new Promise((resolve, reject) => {\n    const request = indexedDB.open('myDB', version);\n    request.onsuccess = () => {\n      const db = request.result;\n      const tx = db.transaction(storeName, 'readwrite');\n      const store = tx.objectStore(storeName);\n      store.add(data);\n      resolve(data);\n    };\n    request.onerror = () => {\n      var _request$error;\n      const error = (_request$error = request.error) === null || _request$error === void 0 ? void 0 : _request$error.message;\n      if (error) {\n        resolve(error);\n      } else {\n        resolve('Unknown error');\n      }\n    };\n  });\n};","map":{"version":3,"names":["addData","storeName","data","version","Promise","resolve","reject","request","indexedDB","open","onsuccess","db","result","tx","transaction","store","objectStore","add","onerror","_request$error","error","message"],"sources":["/home/jouleslabs/Downloads/Interview-task/react_ts_modal/src/DB/Actions/addProducts.ts"],"sourcesContent":["\nexport const addData = <T>(storeName: string, data: T, version = 1): Promise<T|string|null> => {\n    return new Promise((resolve, reject) => {\n     const request = indexedDB.open('myDB', version);\n  \n      request.onsuccess = () => {\n       const  db = request.result;\n        const tx = db.transaction(storeName, 'readwrite');\n        const store = tx.objectStore(storeName);\n        store.add(data);\n        resolve(data);\n      };\n  \n      request.onerror = () => {\n        const error = request.error?.message\n        if (error) {\n          resolve(error);\n        } else {\n          resolve('Unknown error');\n        }\n      };\n    });\n  };"],"mappings":"AACA,OAAO,MAAMA,OAAO,GAAGA,CAAIC,SAAiB,EAAEC,IAAO,EAAEC,OAAO,GAAG,CAAC,KAA6B;EAC3F,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACvC,MAAMC,OAAO,GAAGC,SAAS,CAACC,IAAI,CAAC,MAAM,EAAEN,OAAO,CAAC;IAE9CI,OAAO,CAACG,SAAS,GAAG,MAAM;MACzB,MAAOC,EAAE,GAAGJ,OAAO,CAACK,MAAM;MACzB,MAAMC,EAAE,GAAGF,EAAE,CAACG,WAAW,CAACb,SAAS,EAAE,WAAW,CAAC;MACjD,MAAMc,KAAK,GAAGF,EAAE,CAACG,WAAW,CAACf,SAAS,CAAC;MACvCc,KAAK,CAACE,GAAG,CAACf,IAAI,CAAC;MACfG,OAAO,CAACH,IAAI,CAAC;IACf,CAAC;IAEDK,OAAO,CAACW,OAAO,GAAG,MAAM;MAAA,IAAAC,cAAA;MACtB,MAAMC,KAAK,IAAAD,cAAA,GAAGZ,OAAO,CAACa,KAAK,cAAAD,cAAA,uBAAbA,cAAA,CAAeE,OAAO;MACpC,IAAID,KAAK,EAAE;QACTf,OAAO,CAACe,KAAK,CAAC;MAChB,CAAC,MAAM;QACLf,OAAO,CAAC,eAAe,CAAC;MAC1B;IACF,CAAC;EACH,CAAC,CAAC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}