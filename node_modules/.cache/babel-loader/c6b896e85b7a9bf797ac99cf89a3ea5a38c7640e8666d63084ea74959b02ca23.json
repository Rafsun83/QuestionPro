{"ast":null,"code":"export const addData=function(storeName,data){let version=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;return new Promise((resolve,reject)=>{const request=indexedDB.open('myDB',version);request.onsuccess=()=>{const db=request.result;const tx=db.transaction(storeName,'readwrite');const store=tx.objectStore(storeName);store.add(data);resolve(data);};request.onerror=()=>{var _request$error;const error=(_request$error=request.error)===null||_request$error===void 0?void 0:_request$error.message;if(error){resolve(error);}else{resolve('Unknown error');}};});};","map":{"version":3,"names":["addData","storeName","data","version","arguments","length","undefined","Promise","resolve","reject","request","indexedDB","open","onsuccess","db","result","tx","transaction","store","objectStore","add","onerror","_request$error","error","message"],"sources":["/home/jouleslabs/Downloads/Interview-task/react_ts_modal/src/DB/Actions/addProducts.ts"],"sourcesContent":["\nexport const addData = <T>(storeName: string, data: T, version = 1): Promise<T|string|null> => {\n    return new Promise((resolve, reject) => {\n     const request = indexedDB.open('myDB', version);\n  \n      request.onsuccess = () => {\n       const  db = request.result;\n        const tx = db.transaction(storeName, 'readwrite');\n        const store = tx.objectStore(storeName);\n        store.add(data);\n        resolve(data);\n      };\n  \n      request.onerror = () => {\n        const error = request.error?.message\n        if (error) {\n          resolve(error);\n        } else {\n          resolve('Unknown error');\n        }\n      };\n    });\n  };"],"mappings":"AACA,MAAO,MAAM,CAAAA,OAAO,CAAG,QAAAA,CAAIC,SAAiB,CAAEC,IAAO,CAA0C,IAAxC,CAAAC,OAAO,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAC9D,MAAO,IAAI,CAAAG,OAAO,CAAC,CAACC,OAAO,CAAEC,MAAM,GAAK,CACvC,KAAM,CAAAC,OAAO,CAAGC,SAAS,CAACC,IAAI,CAAC,MAAM,CAAET,OAAO,CAAC,CAE9CO,OAAO,CAACG,SAAS,CAAG,IAAM,CACzB,KAAO,CAAAC,EAAE,CAAGJ,OAAO,CAACK,MAAM,CACzB,KAAM,CAAAC,EAAE,CAAGF,EAAE,CAACG,WAAW,CAAChB,SAAS,CAAE,WAAW,CAAC,CACjD,KAAM,CAAAiB,KAAK,CAAGF,EAAE,CAACG,WAAW,CAAClB,SAAS,CAAC,CACvCiB,KAAK,CAACE,GAAG,CAAClB,IAAI,CAAC,CACfM,OAAO,CAACN,IAAI,CAAC,CACf,CAAC,CAEDQ,OAAO,CAACW,OAAO,CAAG,IAAM,KAAAC,cAAA,CACtB,KAAM,CAAAC,KAAK,EAAAD,cAAA,CAAGZ,OAAO,CAACa,KAAK,UAAAD,cAAA,iBAAbA,cAAA,CAAeE,OAAO,CACpC,GAAID,KAAK,CAAE,CACTf,OAAO,CAACe,KAAK,CAAC,CAChB,CAAC,IAAM,CACLf,OAAO,CAAC,eAAe,CAAC,CAC1B,CACF,CAAC,CACH,CAAC,CAAC,CACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}